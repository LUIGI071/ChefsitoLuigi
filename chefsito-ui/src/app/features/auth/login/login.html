
<section class="auth-page">
  <div class="auth-shell">
    <div class="auth-hero">
      <div class="logo-circle">ğŸ³</div>
      <h1>Chefsito Luigi</h1>
      <p>
        Organiza tu despensa, evita desperdicios y descubre
        recetas que respetan tus alergias y tu estilo de vida.
      </p>
      <ul class="hero-list">
        <li>Recomendaciones segÃºn lo que tienes en casa</li>
        <li>Filtros por alergias, intolerancias y dieta</li>
        <li>Panel para ver tus recetas y tu perfil culinario</li>
      </ul>
    </div>


    <div class="auth-card">
      <h2 class="card-title">Inicia sesiÃ³n</h2>
      <p class="card-subtitle">
        Entra con tu cuenta para que Chefsito cocine contigo ğŸ˜‹
      </p>

      >
      <div *ngIf="errorMessage" class="alert error">
        {{ errorMessage }}
      </div>


      <form
        class="auth-form"
        [formGroup]="form"
        (ngSubmit)="submit()"
      >

        <div class="field">
          <label for="email">Correo electrÃ³nico</label>
          <input
            id="email"
            type="email"
            formControlName="email"
            placeholder="tu@email.com"
            autocomplete="email"
          />

          <div
            class="field-error"
            *ngIf="email?.invalid"
          >
            <span *ngIf="email?.errors?.['required']">
              El correo es obligatorio.
            </span>
            <span *ngIf="email?.errors?.['email']">
              Introduce un correo vÃ¡lido.
            </span>
          </div>
        </div>


        <div class="field">
          <label for="password">ContraseÃ±a</label>

          <div class="password-wrapper">
            <input
              id="password"
              [type]="passwordVisible ? 'text' : 'password'"
              formControlName="password"
              placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
              autocomplete="current-password"
            />
            <button
              type="button"
              class="toggle-password"
              (click)="togglePasswordVisibility()"
            >
              {{ passwordVisible ? 'Ocultar' : 'Ver' }}
            </button>
          </div>

          <div
            class="field-error"
            *ngIf="password?.invalid"
          >
            <span *ngIf="password?.errors?.['required']">
              La contraseÃ±a es obligatoria.
            </span>
            <span *ngIf="password?.errors?.['minlength']">
              Debe tener al menos 6 caracteres.
            </span>
          </div>
        </div>


        <div class="form-row form-row--between">
          <label class="remember">
            <input
              type="checkbox"
              formControlName="rememberMe"
            />
            <span>Mantener la sesiÃ³n iniciada</span>
          </label>
        </div>


        <button
          class="btn primary"
          type="submit"
          [disabled]="loading || form.invalid"
        >
          <span *ngIf="!loading">Entrar</span>
          <span *ngIf="loading" class="btn-loading">
            <span class="spinner"></span>
            Entrando...
          </span>
        </button>
      </form>


      <div class="auth-footer">
        <p>Â¿TodavÃ­a no tienes cuenta?</p>
        <a routerLink="/register">Crear una cuenta nueva</a>
      </div>
    </div>
  </div>
</section>
